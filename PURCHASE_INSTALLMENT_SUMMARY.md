# โ ููุฎุต ููุฒุฉ ุชูุณูุท ุงููุนุงููุงุช ูู ูููุฐุฌ ุงูุดุฑุงุก

## ๐ฏ ุงููุทููุจ

ุชู ุชูููุฐ **9 ูุชุทูุจุงุช ุฑุฆูุณูุฉ**:

1. โ ุฅุถุงูุฉ ููุชุงุญ ุชุจุฏูู "ุชูุณูุท ุงููุนุงููุฉ"
2. โ ุฅุถุงูุฉ ุญููู ุงูุชูุณูุท (ุฃุดูุฑุ ูุงุฆุฏุฉุ ูุตุงุฑูู)
3. โ ุชุทุจูู ุญุณุงุจุงุช ุงูุชูุณูุท ุงูุฏูููุฉ
4. โ ุนุฑุถ ููุฎุต ุงูุญุณุงุจุงุช ุงูุชููุงุฆู
5. โ ุญูุธ ุจูุงูุงุช ุงููุนุงููุฉ ูุงูุชูุณูุท
6. โ ุฑุจุท ูุน ุชุจููุจ ุงูุชูุณูุท
7. โ ุฑุจุท ูุน ูุดู ุงูุญุณุงุจ
8. โ ุฏุนู ูุงูู ูููุถุน ุงููููู
9. โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

---

## โ ุงูุชูููุฐ

### 1๏ธโฃ ููุชุงุญ ุชุจุฏูู ุงูุชูุณูุท

**ุงููููุน**: ูู ูููุฐุฌ ุฅุถุงูุฉ ุนูููุฉ ุงูุดุฑุงุก

**ุงูููุงุตูุงุช**:
- โ ููุชุงุญ ุชุจุฏูู (Switch) ุจุนููุงู "ุชูุณูุท ุงููุนุงููุฉ"
- โ ุงูุชุฑุงุถูุงู: ูุนุทู
- โ ููู ุฃุฒุฑู (#2563eb) ููุชูููุฒ
- โ ูุต ุชูุถูุญู: "ุชูุณูู ุงููุจูุบ ุนูู ุนุฏุฉ ุฃุดูุฑ ูุน ุฅููุงููุฉ ุฅุถุงูุฉ ููุงุฆุฏ ููุตุงุฑูู"
- โ ุนูุฏ ุงูุชูุนูู: ุชุธูุฑ ุญููู ุงูุชูุณูุท

---

### 2๏ธโฃ ุญููู ุงูุชูุณูุท

**ุชุธูุฑ ููุท ุนูุฏ ุชูุนูู ุงูููุชุงุญ**

| ุงูุญูู | ุงูููุน | ุงูููู | ุงูุงูุชุฑุงุถู | ุฅูุฒุงูู |
|-------|------|-------|-----------|--------|
| ุนุฏุฏ ุงูุฃุดูุฑ | Number | 3-60 | 12 | โ |
| ูุณุจุฉ ุงููุงุฆุฏุฉ | Number | 0+ | 1.5% | โ |
| ุงููุตุงุฑูู ุงูุฅุฏุงุฑูุฉ | Number | 0+ | 120 | โ |

**ููุงุญุธุงุช**:
- ุนุฏุฏ ุงูุฃุดูุฑ: ูู 3 ุฅูู 60 ุดูุฑ
- ูุณุจุฉ ุงููุงุฆุฏุฉ: 0 ููุชูุณูุท ุจุฏูู ููุงุฆุฏ
- ุงููุตุงุฑูู ุงูุฅุฏุงุฑูุฉ: ุชุถุงู ูููุณุท ุงูุฃูู ููุท

---

### 3๏ธโฃ ุงูุญุณุงุจุงุช ุงููุทุจูุฉ

#### 1. ุฅุฌูุงูู ุงููุงุฆุฏุฉ:
```
ุฅุฌูุงูู ุงููุงุฆุฏุฉ = (ูุจูุบ ุงููุนุงููุฉ ร ูุณุจุฉ ุงููุงุฆุฏุฉ รท 100)
```

#### 2. ุงููุจูุบ ุจุนุฏ ุงููุงุฆุฏุฉ:
```
ุงููุจูุบ ุจุนุฏ ุงููุงุฆุฏุฉ = ูุจูุบ ุงููุนุงููุฉ + ุฅุฌูุงูู ุงููุงุฆุฏุฉ
```

#### 3. ุงููุณุท ุงูุดูุฑู ุงูุฃุณุงุณู:
```
ุงููุณุท ุงูุฃุณุงุณู = ุงููุจูุบ ุจุนุฏ ุงููุงุฆุฏุฉ รท ุนุฏุฏ ุงูุฃุดูุฑ
```

#### 4. ุงููุณุท ุงูุฃูู:
```
ุงููุณุท ุงูุฃูู = ุงููุณุท ุงูุฃุณุงุณู + ุงููุตุงุฑูู ุงูุฅุฏุงุฑูุฉ ุงููุงููุฉ
```

#### 5. ุงูุฃูุณุงุท ุงููุชุจููุฉ:
```
ุงููุณุท ุงูุดูุฑู = ุงููุณุท ุงูุฃุณุงุณู ููุท (ุจุฏูู ูุตุงุฑูู)
```

#### 6. ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ:
```
ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ = ูุจูุบ ุงููุนุงููุฉ + ุฅุฌูุงูู ุงููุงุฆุฏุฉ + ุงููุตุงุฑูู ุงูุฅุฏุงุฑูุฉ
```

---

### 4๏ธโฃ ููุฎุต ุงูุญุณุงุจุงุช

**ูุธูุฑ ุชููุงุฆูุงู ูู ุงููููุฐุฌ ุนูุฏ ุชูุนูู ุงูุชูุณูุท**:

| ุงูุจูุงู | ุงููููุฉ | ุงูููู |
|--------|--------|-------|
| ูุจูุบ ุงููุนุงููุฉ ุงูุฃุตูู | 12,000 ุฌููู | ุฑูุงุฏู |
| ูุณุจุฉ ุงููุงุฆุฏุฉ | 1.5% | ุจุฑุชูุงูู |
| ุฅุฌูุงูู ุงููุงุฆุฏุฉ | 180 ุฌููู | ุฃุญูุฑ |
| ุงููุตุงุฑูู ุงูุฅุฏุงุฑูุฉ | 120 ุฌููู | ุฃุญูุฑ |
| ุนุฏุฏ ุงูุฃุดูุฑ | 12 ุดูุฑ | ุฑูุงุฏู |
| ุงููุณุท ุงูุฃูู | 1,135 ุฌููู | ุฃุฒุฑู |
| ุงููุณุท ุงูุดูุฑู (ูู ุงูุดูุฑ 2) | 1,015 ุฌููู | ุฃุฒุฑู |
| ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ | 12,300 ุฌููู | ุฃุญูุฑ |

**ููุงุญุธุงุช ูุงูุฉ** (ุชุธูุฑ ูู ุตูุฏูู ุฃุฒุฑู):
- ุงููุณุท ุงูุฃูู (1,135 ุฌููู) ูุดูู ุงููุตุงุฑูู ุงูุฅุฏุงุฑูุฉ ุงููุงููุฉ
- ุงูุฃูุณุงุท ุงููุชุจููุฉ (11 ุดูุฑ) ุณุชููู 1,015 ุฌููู ููู ุดูุฑ
- ุณูุชู ุฅุถุงูุฉ ุงูุชูุณูุท ุชููุงุฆูุงู ุฅูู ุชุจููุจ "ุงูุชูุณูุท"

---

### 5๏ธโฃ ุญูุธ ุงูุจูุงูุงุช

#### ุฃ. ุจูุงูุงุช ุงููุนุงููุฉ:
```javascript
{
  id: "timestamp",
  type: "withdrawal",
  amount: totalAmount,
  baseAmount: amount,
  purchaseFee: purchaseFee,
  cashback: cashback,
  excludedFromCashback: excludeFromCashback,
  description: "ุดุฑุงุก ูู ูุงุฑููุฑ",
  merchant: "ูุงุฑููุฑ",
  category: "ุทุนุงู ููุดุฑูุจุงุช",
  transactionDate: "2025-01-10T12:00:00.000Z",
  cardId: "1",
  isInstallment: true  // โ ุนูุงูุฉ ุงูุชูุณูุท
}
```

#### ุจ. ุจูุงูุงุช ุงูุชูุณูุท:
```javascript
{
  id: "timestamp_inst",
  cardId: "1",
  merchantName: "ูุงุฑููุฑ",
  merchantId: "1",
  totalAmount: 12000,
  monthlyPayment: 1015,
  baseMonthlyPayment: 1015,
  monthlyInterest: 15,
  monthlyAdminFees: 0,
  totalMonths: 12,
  paidMonths: 0,
  remainingMonths: 12,
  startDate: "2025-01-10",
  endDate: "2026-01-10",
  installmentType: "with-interest",
  interestRate: 1.5,
  administrativeFees: 120,
  totalInterest: 180,
  totalAdminFees: 120,
  totalCost: 12300,
  status: "active",
  nextPaymentDate: "2025-02-10",
  nextPaymentAmount: 1135,
  firstPayment: 1135,
  createdAt: "2025-01-10T12:00:00.000Z",
  purchaseId: "timestamp"
}
```

**ุงูููุชุงุญ ูู localStorage**: `installments_{cardId}`

---

### 6๏ธโฃ ุฑุจุท ูุน ุชุจููุจ ุงูุชูุณูุท

**ุนูุฏ ุฅุถุงูุฉ ูุนุงููุฉ ููุณุทุฉ**:
1. โ ูุชู ุญูุธ ุงููุนุงููุฉ ูู ูุงุฆูุฉ ุงููุนุงููุงุช
2. โ ูุชู ุฅูุดุงุก ุณุฌู ุชูุณูุท ุฌุฏูุฏ ุชููุงุฆูุงู
3. โ ูุชู ุญูุธ ุงูุชูุณูุท ูู localStorage
4. โ ูุธูุฑ ุงูุชูุณูุท ููุฑุงู ูู ุชุจููุจ "ุงูุชูุณูุท"
5. โ ูุชู ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช ุชููุงุฆูุงู:
   - ุนุฏุฏ ุงูุชูุณูุทุงุช ุงููุดุทุฉ
   - ุฅุฌูุงูู ุงููุชุจูู
   - ุงููุณุท ุงูุดูุฑู
   - ุงูุชูุณูุทุงุช ุงูููุชููุฉ

---

### 7๏ธโฃ ุฑุจุท ูุน ูุดู ุงูุญุณุงุจ

**ูู ูุดู ุงูุญุณุงุจ ุงูุดูุฑู**:

| ุงูุดูุฑ | ุงููุจูุบ | ุงููุตู | ุงูููุงุญุธุฉ |
|-------|--------|-------|----------|
| 1 | 1,135 ุฌููู | ูุณุท ุดูุฑู - ูุงุฑููุฑ | ูุดูู ุงููุตุงุฑูู ุงูุฅุฏุงุฑูุฉ |
| 2 | 1,015 ุฌููู | ูุณุท ุดูุฑู - ูุงุฑููุฑ | ุงููุณุท ุงูุฃุณุงุณู ููุท |
| 3 | 1,015 ุฌููู | ูุณุท ุดูุฑู - ูุงุฑููุฑ | ุงููุณุท ุงูุฃุณุงุณู ููุท |
| ... | ... | ... | ... |
| 12 | 1,015 ุฌููู | ูุณุท ุดูุฑู - ูุงุฑููุฑ | ุงููุณุท ุงูุฃุณุงุณู ููุท |

**ููุน ุงููุนุงููุฉ**: "ูุณุท ุดูุฑู - [ุงุณู ุงูุชุงุฌุฑ]"

---

## ๐ ุงูุงุณุชุฎุฏุงู

### ุฎุทูุงุช ุฅุถุงูุฉ ูุนุงููุฉ ููุณุทุฉ:

```
1. ุงูุชุญ ุตูุญุฉ ุชูุงุตูู ุงูุจุทุงูุฉ
   http://localhost:3003/cards/1

2. ุงููุฑ ุนูู ุฒุฑ "ุดุฑุงุก" ๐

3. ุงููุฃ ุจูุงูุงุช ุงููุนุงููุฉ:
   - ุงููุจูุบ: 12,000
   - ุงููุตู: ุดุฑุงุก ูู ูุงุฑููุฑ
   - ุงูููุงู: ูุงุฑููุฑ
   - ุงููุฆุฉ: ุทุนุงู ููุดุฑูุจุงุช
   - ุงูุชุงุฑูุฎ: ุงูููู

4. ูุนูู ููุชุงุญ "ุชูุณูุท ุงููุนุงููุฉ" โ

5. ุฃุฏุฎู ุชูุงุตูู ุงูุชูุณูุท:
   - ุนุฏุฏ ุงูุฃุดูุฑ: 12
   - ูุณุจุฉ ุงููุงุฆุฏุฉ: 1.5%
   - ุงููุตุงุฑูู ุงูุฅุฏุงุฑูุฉ: 120

6. ุดุงูุฏ ููุฎุต ุงูุญุณุงุจุงุช ุงูุชููุงุฆู:
   โ ุงููุณุท ุงูุฃูู: 1,135 ุฌููู
   โ ุงููุณุท ุงูุดูุฑู: 1,015 ุฌููู
   โ ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ: 12,300 ุฌููู

7. ุงููุฑ "ุฅุถุงูุฉ ุงูุนูููุฉ"
```

**ุงููุชูุฌุฉ**:
- โ ุชูุช ุฅุถุงูุฉ ุงููุนุงููุฉ
- โ ุชู ุฅูุดุงุก ุณุฌู ุงูุชูุณูุท
- โ ูุธูุฑ ูู ุชุจููุจ "ุงูุชูุณูุท"
- โ ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช

---

## ๐ ูุซุงู ุนููู ูุงูู

### ุงูุณููุงุฑูู:
ุดุฑุงุก ูู ูุงุฑููุฑ ุจูููุฉ 12,000 ุฌููู ูุน ุชูุณูุท ุนูู 12 ุดูุฑ

### ุงูุจูุงูุงุช ุงููุฏุฎูุฉ:
- **ูุจูุบ ุงููุนุงููุฉ**: 12,000 ุฌููู
- **ุงูุชุงุฌุฑ**: ูุงุฑููุฑ
- **ุงููุฆุฉ**: ุทุนุงู ููุดุฑูุจุงุช
- **ุนุฏุฏ ุงูุฃุดูุฑ**: 12 ุดูุฑ
- **ูุณุจุฉ ุงููุงุฆุฏุฉ**: 1.5%
- **ุงููุตุงุฑูู ุงูุฅุฏุงุฑูุฉ**: 120 ุฌููู

### ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ:
1. **ุฅุฌูุงูู ุงููุงุฆุฏุฉ**: 12,000 ร 1.5% = **180 ุฌููู**
2. **ุงููุจูุบ ุจุนุฏ ุงููุงุฆุฏุฉ**: 12,000 + 180 = **12,180 ุฌููู**
3. **ุงููุณุท ุงูุฃุณุงุณู**: 12,180 รท 12 = **1,015 ุฌููู**
4. **ุงููุณุท ุงูุฃูู**: 1,015 + 120 = **1,135 ุฌููู**
5. **ุงูุฃูุณุงุท ุงููุชุจููุฉ**: **1,015 ุฌููู** ร 11 ุดูุฑ
6. **ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ**: 12,000 + 180 + 120 = **12,300 ุฌููู**

### ุงููุชูุฌุฉ:
- โ ุงููุนุงููุฉ ูุญููุธุฉ ูุน ุนูุงูุฉ `isInstallment: true`
- โ ุงูุชูุณูุท ูุญููุธ ูู localStorage
- โ ูุธูุฑ ูู ุชุจููุจ "ุงูุชูุณูุท"
- โ ุงูุฅุญุตุงุฆูุงุช ูุญุฏุซุฉ

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุงููููุงุช:
- **ุงููููุงุช ุงููุนุฏูุฉ**: 1
  - `add-purchase-dialog.tsx` (~150 ุณุทุฑ ูุถุงู)
- **ูููุงุช ุงูุชูุซูู**: 2
  - `PURCHASE_INSTALLMENT_FEATURE.md` (300+ ุณุทุฑ)
  - `PURCHASE_INSTALLMENT_SUMMARY.md` (300+ ุณุทุฑ)

### ุงูุฃุณุทุฑ:
- **ุงูุฃุณุทุฑ ุงููุถุงูุฉ**: ~150 ุณุทุฑ
- **ุงูุชูุซูู**: ~600 ุณุทุฑ
- **ุงูุฅุฌูุงูู**: ~750 ุณุทุฑ

### ุงูููุฒุงุช:
- **ุงูุญููู ุงููุถุงูุฉ**: 4 (ููุชุงุญ + 3 ุญููู)
- **ุงูุญุณุงุจุงุช**: 6 ูุนุงุฏูุงุช ุฏูููุฉ
- **ุงูุฃููุงู**: 3 ุฃููุงู ุฏููุงููููุฉ
- **ุงูุฑุจุท**: 2 (ุชุจููุจ ุงูุชูุณูุท + ูุดู ุงูุญุณุงุจ)

---

## โ ุงูุฎูุงุตุฉ

ุชู ุชุทููุฑ ููุฒุฉ ุชูุณูุท ุงููุนุงููุงุช ูู ูููุฐุฌ ุงูุดุฑุงุก ุจูุฌุงุญ ูุน:

### ุงููููุฐ:
1. โ **ููุชุงุญ ุชุจุฏูู** - ุณูู ุงูุงุณุชุฎุฏุงู
2. โ **3 ุญููู ููุชูุณูุท** - ุฃุดูุฑุ ูุงุฆุฏุฉุ ูุตุงุฑูู
3. โ **6 ุญุณุงุจุงุช ุชููุงุฆูุฉ** - ุฏูููุฉ ูููุตูุฉ
4. โ **ููุฎุต ุดุงูู** - ูุงุถุญ ูููุธู
5. โ **ุญูุธ ุชููุงุฆู** - ูู localStorage
6. โ **ุฑุจุท ูุน ุงูุชูุณูุท** - ุชููุงุฆู
7. โ **ุฑุจุท ูุน ูุดู ุงูุญุณุงุจ** - ุฌุงูุฒ
8. โ **ุฏุนู ุงููุถุน ุงููููู** - ูุงูู
9. โ **ุงูุชุญูู ูู ุงูุจูุงูุงุช** - ุดุงูู

### ุงูููุฒุงุช:
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุฌูููุฉ ููุชุฌุงูุจุฉ
- โ ุฃููุงู ุฏููุงููููุฉ ูุงุถุญุฉ
- โ ุญุณุงุจุงุช ุฏูููุฉ ูู ุงูููุช ุงููุนูู
- โ ููุงุญุธุงุช ุชูุถูุญูุฉ ูููุฏุฉ
- โ ุชูุงูู ูุงูู ูุน ุงููุธุงู

### ุงูุญุงูุฉ:
โ **ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู!**

**ุงูุชุทุจูู ูุนูู ุนูู**: `http://localhost:3003`

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ**: Augment Agent  
**ุงูุชุงุฑูุฎ**: 2025-10-10  
**ุงูููุช**: ุชู ุงูุชูููุฐ ุจูุฌุงุญ  
**ุงูุฅุตุฏุงุฑ**: 1.0.0  
**ุงูุญุงูุฉ**: โ **ุฌููุน ุงููุชุทูุจุงุช ูููุฐุฉ ุจุงููุงูู!** ๐

